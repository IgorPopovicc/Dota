import { CommonModule } from '@angular/common';
import { ChangeDetectionStrategy, Component } from '@angular/core';
import { BehaviorSubject } from 'rxjs';
import { LoadingService } from '../../service/loading.service';

@Component({
  selector: 'dota-loading',
  standalone: true,
  imports: [
    CommonModule,
  ],
  template: `<div *ngIf="loadingService.isLoading | async" class="loading-overlay">
              <div class="spinner"> 
                <svg xmlns="http://www.w3.org/2000/svg" width="106" height="106" viewBox="0 0 106 106" fill="none">
                  <g style="mix-blend-mode:overlay">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M50.9873 0.104409C49.4676 0.597871 48.5913 1.47514 48.1669 2.90755C47.9273 3.70942 47.8862 5.57361 47.8862 15.3058C47.8862 28.1975 47.8725 28.033 49.1869 29.3489C50.9463 31.1034 55.0537 31.1034 56.8131 29.3489C58.1275 28.033 58.1138 28.1975 58.1138 15.3058C58.1138 2.83216 58.0933 2.61284 57.0801 1.4066C56.2312 0.399115 55.3207 0.0632871 53.2738 0.00845801C52.2675 -0.0189566 51.2406 0.0221653 50.9873 0.104409ZM17.0802 13.6472C15.9986 14.1407 14.4035 15.7033 13.849 16.8136C13.274 17.9718 13.2466 19.2603 13.7669 20.4117C14.2734 21.5426 30.183 37.5253 31.4358 38.1627C33.2089 39.0742 35.0298 38.6287 36.8645 36.8331C38.6718 35.0648 39.151 33.1458 38.2337 31.357C37.597 30.1028 21.6327 14.1749 20.5031 13.6678C19.4625 13.1949 18.0934 13.188 17.0802 13.6472ZM86.2225 13.7569C85.3805 14.1475 83.9429 15.4977 77.0834 22.3856C70.7785 28.7115 68.8548 30.7539 68.5468 31.4255C68.0265 32.5564 68.0333 33.8654 68.5536 34.9757C69.0328 36.0038 70.6073 37.6212 71.6684 38.1764C72.7432 38.7384 74.3383 38.7315 75.4541 38.1627C76.5974 37.5733 92.4111 21.7414 92.9999 20.5968C93.5681 19.4865 93.5749 17.8828 93.0204 16.8204C92.4591 15.7444 91.0078 14.3189 89.9124 13.7637C88.687 13.14 87.5575 13.14 86.2225 13.7569ZM3.01899 48.0936C0.999484 48.731 0 50.3416 0 52.9391C0.00684578 55.5915 0.992638 57.1815 3.01214 57.7846C3.81994 58.0245 5.62038 58.0656 15.403 58.0656C25.5964 58.0656 26.9587 58.0314 27.7939 57.7572C29.0261 57.3597 30.0256 56.3591 30.4226 55.1254C31.0114 53.3092 30.717 50.7323 29.7791 49.4575C29.5738 49.1833 28.985 48.7241 28.4716 48.4431L27.5337 47.9223L15.67 47.8811C6.12012 47.8537 3.6488 47.8948 3.01899 48.0936ZM78.6374 47.9976C77.7954 48.2033 76.6316 48.9092 76.2209 49.4643C75.283 50.7323 74.9886 53.3092 75.5774 55.1254C75.9744 56.3591 76.9739 57.3597 78.2061 57.7572C79.0413 58.0314 80.4036 58.0656 90.597 58.0656C100.38 58.0656 102.18 58.0245 102.988 57.7846C105.007 57.1815 105.993 55.5915 106 52.9391C106 50.3005 104.994 48.7173 102.906 48.0867C102.201 47.8743 99.9894 47.8332 90.6244 47.8469C84.34 47.8606 78.9455 47.9291 78.6374 47.9976ZM31.4563 68.586C30.6143 68.9766 29.1767 70.3268 22.3172 77.2147C16.0123 83.5406 14.0886 85.583 13.7805 86.2547C13.2603 87.3855 13.2671 88.6946 13.7874 89.8049C14.2666 90.8329 15.8411 92.4504 16.9022 93.0055C17.977 93.5675 19.5721 93.5606 20.6879 92.9918C21.8312 92.4024 37.6449 76.5705 38.2337 75.4259C38.8019 74.3156 38.8087 72.7119 38.2542 71.6496C37.6928 70.5735 36.2415 69.148 35.1462 68.5928C33.9208 67.9692 32.7913 67.9691 31.4563 68.586ZM71.8464 68.4763C70.7648 68.9698 69.1697 70.5324 68.6152 71.6427C68.0402 72.801 68.0128 74.0895 68.5331 75.2409C69.0397 76.3717 84.9492 92.3544 86.202 92.9918C87.9751 93.9033 89.796 93.4578 91.6307 91.6622C93.438 89.894 93.9172 87.9749 92.9999 86.1861C92.3632 84.9319 76.3989 69.0041 75.2693 68.4969C74.2288 68.024 72.8596 68.0171 71.8464 68.4763ZM51.2543 75.4054C50.3986 75.6247 49.2417 76.3306 48.8378 76.8789C47.8931 78.1537 47.8862 78.2428 47.8862 90.5656C47.8862 100.38 47.9273 102.183 48.1669 102.991C48.7693 105.013 50.3644 106 53 106C55.6356 106 57.2307 105.013 57.8331 102.991C58.2576 101.538 58.2507 79.5038 57.8194 78.2359C57.4087 77.0297 56.9363 76.454 55.8752 75.8783C55.1222 75.467 54.6841 75.3642 53.3902 75.3163C52.5208 75.282 51.5624 75.3231 51.2543 75.4054Z" fill="rgba(163, 0, 84, 0.8)"/>
                    <animateTransform
                      attributeName="transform"
                      type="rotate"
                      from="0 53 53"
                      to="360 53 53"
                      dur="2s"
                      repeatCount="indefinite"
                    />
                  </g>
                </svg>
              </div>
            </div>`,
  styleUrl: './loading.component.scss',
  changeDetection: ChangeDetectionStrategy.OnPush,
})
export class LoadingComponent { 

  constructor(public loadingService: LoadingService) {} 

}
